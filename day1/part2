import re

with open('data.txt', 'r') as file:
    lines = file.readlines()

lettersToNmb = {
    "one": 1,
    "two": 2,
    "three": 3,
    "four": 4,
    "five": 5,
    "six": 6,
    "seven": 7,
    "eight": 8,
    "nine": 9
}
totalSum = 0
wordPos = []
for line in lines:

    index = []
    for znak in line:
        if znak.isdigit():
            iNmb = line.index(znak)
            index.append((iNmb, int(znak)))

    for word, number in lettersToNmb.items():
        occurrences = re.finditer(word, line)
        for occurrence in occurrences:
            start = occurrence.start()
            wordPos.append((number))

    index.sort(key=lambda x: x[0])  # Sortiraj prema prvom elementu tuple-a
    print(index)

    numbers = [v for _, v in index]
    if len(numbers) == 1:
        firstLastNumbers = [numbers[0], numbers[0]]
    else:
        firstLastNumbers = [numbers[0], numbers[-1]]

    twoDigitNmb = ''.join(map(str, firstLastNumbers))
    totalSum += int(twoDigitNmb)
    print(totalSum)
